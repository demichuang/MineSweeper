<?php

$arr = array ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);

$count = 0;

while ($count < 40) {
    $x = rand(0,9);
    $y = rand(0,9);

    if ($arr[$x][$y] == "0") {
        $arr[$x][$y] = "M";
        $count++;
    }
}

for ($i = 0; $i < 10; $i++) {
    for ($j = 0; $j < 10; $j++) {

        if ($arr[$i][$j] === "M") {

            if ($arr[$i-1][$j-1] !== "M" && $i-1 >= 0 && $j-1 >= 0) {
                $arr[$i-1][$j-1] += 1;
            }

            if ($arr[$i-1][$j] !== "M" && $i-1 >= 0) {
                $arr[$i-1][$j] += 1;
            }

            if ($arr[$i-1][$j+1] !== "M" && $i-1 >= 0 && $j+1 <= 9) {
                $arr[$i-1][$j+1] += 1;
            }

            if ($arr[$i][$j-1] !== "M" && $j-1 >= 0) {
                $arr[$i][$j-1] += 1;
            }

            if ($arr[$i][$j+1] !== "M" && $j+1 <= 9) {
                $arr[$i][$j+1] += 1;
            }

            if ($arr[$i+1][$j-1] !== "M" && $i+1 <= 9 && $j-1 >= 0) {
                $arr[$i+1][$j-1] += 1;
            }

            if ($arr[$i+1][$j] !== "M" && $i+1 <= 9) {
                $arr[$i+1][$j] += 1;
            }

            if ($arr[$i+1][$j+1] !== "M" && $i+1 <= 9 && $j+1 <= 9) {
                $arr[$i+1][$j+1] += 1;
            }
        }
    }
}

$numN = 0;

foreach ($arr as $values) {
    foreach ($values as $key) {
        echo $key ;
    }

    if($numN < 9) {
        echo "N";
        $numN++;
    }
}
